<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Link Collection</title>
    <style>
        /* General styles */
        body {
            background-color: #f3f3f3; /* Set background color */
            font-family: Calibri Light, sans-serif; /* Use Calibri Light font */
            margin: 0;
            padding: 0;
        }

        /* Styles for container */
        .container {
            display: flex;
            justify-content: space-between;
            padding: 20px;
        }

        /* Styles for main content */
        .main-content {
            flex: 1;
            max-width: 800px; /* Adjust max-width for better readability on larger screens */
            padding-bottom: 60px; /* Space for footer on mobile */
        }

        /* Styles for blog entries */
        .blog-entries {
            width: 100%;
        }

        .blog-entry {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add shadow */
            padding: 20px;
            margin-bottom: 20px;
        }

        .blog-entry h2 {
            font-size: 1.5rem; /* Increase font size for better readability */
            margin-bottom: 10px;
        }

        .blog-entry p {
            font-size: 1rem; /* Adjust font size for better readability */
        }

        /* Styles for pagination links */
        .pagination {
            margin-top: 20px;
        }

        .pagination a {
            margin-right: 10px;
            text-decoration: none;
            color: #333;
            font-size: 1rem; /* Adjust font size for better readability */
        }

        .pagination a.active {
            font-weight: bold;
        }

        /* Styles for sidebar */
        .sidebar {
            max-width: 300px; /* Adjust maximum width for the sidebar */
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add shadow */
            background-color: #fff;
            padding: 20px;
            margin-top: 20px;
        }

        .sidebar h2 {
            font-size: 1.2rem; /* Increase font size for better readability */
            margin-bottom: 10px;
        }

        .sidebar p {
            font-size: 0.9rem; /* Adjust font size for better readability */
        }

        /* Media query for mobile devices */
        @media (max-width: 800px) {
            .container {
                flex-direction: column;
            }

            .main-content {
                max-width: 100%;
                padding-bottom: 20px; /* Reduce padding for mobile */
            }

            .sidebar {
                max-width: 100%; /* Sidebar occupies full width on mobile */
                border-top: none;
                padding-top: 0;
                margin-top: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <div class="blog-entries">
                <!-- Blog entries will be loaded dynamically here using JavaScript -->
            </div>
            <div class="pagination">
                <!-- Pagination links will be loaded dynamically here using JavaScript -->
            </div>
        </div>
        <div class="sidebar">
            <h2>Sidebar</h2>
            <p>This is some sidebar content.</p>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const postsPerPage = 3; // Number of posts to display per page
            const totalPages = Math.ceil(6 / postsPerPage); // Total number of pages (Assuming 6 blog posts for demonstration)

            // Load the first page
            loadPage(1);

            function loadPage(pageNumber) {
                // Clear existing blog entries
                document.querySelector(".blog-entries").innerHTML = "";

                // Calculate the start and end index of blog posts for the current page
                const startIndex = (pageNumber - 1) * postsPerPage;
                const endIndex = Math.min(startIndex + postsPerPage, 6); // Assuming 6 blog posts for demonstration

                // Fetch and display blog entries for the current page sequentially
                fetchSequentially(startIndex + 1, endIndex);
                
                // Generate pagination links
                generatePaginationLinks(pageNumber);
            }

            function fetchSequentially(startIndex, endIndex) {
                const promises = [];
                for (let i = startIndex; i <= endIndex; i++) {
                    promises.push(fetchBlogPost(i));
                }
                Promise.all(promises)
                    .then(blogPosts => {
                        // Display the blog posts in the correct order
                        blogPosts.forEach(blogPost => {
                            displayBlogPost(blogPost);
                        });
                    })
                    .catch(error => console.error('Error loading blog posts:', error));
            }

            function fetchBlogPost(postIndex) {
                return fetch(`blog-posts/blog-post-${postIndex}.json`)
                    .then(response => response.json())
                    .catch(error => console.error('Error loading blog post:', error));
            }

            function displayBlogPost(blogPost) {
                const blogEntry = document.createElement("div");
                blogEntry.classList.add("blog-entry");
                blogEntry.innerHTML = `
                    <h2><a href="${blogPost.link}">${blogPost.title}</a></h2>
                    <p>${blogPost.excerpt}</p>
                    <p>Read more...</p>
                `;
                document.querySelector(".blog-entries").appendChild(blogEntry);
            }

            function generatePaginationLinks(currentPage) {
                // Clear existing pagination links
                document.querySelector(".pagination").innerHTML = "";

                // Generate pagination links
                for (let i = 1; i <= totalPages; i++) {
                    const link = document.createElement("a");
                    link.textContent = i;
                    link.href = "#";
                    if (i === currentPage) {
                        link.classList.add("active");
                    }
                    link.addEventListener("click", function(event) {
                        event.preventDefault();
                        loadPage(i);
                    });
                    document.querySelector(".pagination").appendChild(link);
                }
            }
        });
    </script>
</body>
</html>
